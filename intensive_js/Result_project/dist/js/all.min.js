"use strict";window.addEventListener("DOMContentLoaded",function(){function e(){[].forEach.call(m,function(e){if(e.textContent.length>49){var t="".concat(e.textContent.slice(0,50),"...");e.textContent=t}})}function t(){function e(){10===t?(clearInterval(o),u.style.display="none"):(t--,u.style.transform="translateY(-".concat(t,"px)"),u.style.opacity="."+t)}u.style.display="block";var t=100,o=setInterval(e,10)}function o(){var e=document.querySelectorAll(".cart__wrapper > .goods__item > .goods__price > span"),t=0;[].forEach.call(e,function(e){t+=+e.textContent}),y.textContent=t}function n(e){c.querySelector(".goods__item")&&e.addEventListener("click",function(){s.innerHTML=--_,c.querySelector(".goods__item").remove(),o(),0===_&&(c.innerHTML='<div class="empty">Ваша корзина пока пуста</div>')})}var c=document.querySelector(".cart__wrapper"),r=document.querySelector(".cart"),l=document.querySelector(".cart__close"),d=document.querySelector("#cart"),i=document.querySelectorAll(".goods__btn"),a=document.querySelectorAll(".goods__item"),u=document.querySelector(".confirm"),s=document.querySelector(".nav__badge"),y=document.querySelector(".cart__total > span"),m=document.querySelectorAll(".goods__title"),_=c.querySelectorAll(".goods__item").length,v=function(){r.style.display="block",document.body.style.overflow="hidden"},f=function(){r.style.display="none",document.body.style.overflow=""};d.addEventListener("click",v),l.addEventListener("click",f),[].forEach.call(i,function(e,r){e.addEventListener("click",function(){var e=a[r].cloneNode(!0),l=e.querySelector("button"),d=document.createElement("div"),i=c.querySelector(".empty");l.remove(),t(),d.classList.add("goods__item-remove"),d.innerHTML="&times",c.appendChild(e),e.appendChild(d),i&&i.remove(),e&&(s.innerHTML=++_),o(),n(d)})}),e()});